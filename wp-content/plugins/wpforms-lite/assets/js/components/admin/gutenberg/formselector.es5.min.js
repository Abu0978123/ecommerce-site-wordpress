!function n(o,a,l){function i(r,e){if(!a[r]){if(!o[r]){var t="function"==typeof require&&require;if(!e&&t)return t(r,!0);if(s)return s(r,!0);throw new Error("Cannot find module '"+r+"'")}e=a[r]={exports:{}};o[r][0].call(e.exports,function(e){var t=o[r][1][e];return i(t||e)},e,e.exports,n,o,a,l)}return a[r].exports}for(var s="function"==typeof require&&require,e=0;e<l.length;e++)i(l[e]);return i}({1:[function(z,O,M){"use strict";function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,l,i=[],s=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(i.push(n.value),i.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return i}}(e,t)||function(e,t){var r;if(e)return"string"==typeof e?n(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function B(){B=function(){return l};var s,l={},e=Object.prototype,c=e.hasOwnProperty,u=Object.defineProperty||function(e,t,r){e[t]=r.value},t="function"==typeof Symbol?Symbol:{},n=t.iterator||"@@iterator",r=t.asyncIterator||"@@asyncIterator",o=t.toStringTag||"@@toStringTag";function a(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{a({},"")}catch(s){a=function(e,t,r){return e[t]=r}}function i(e,t,r,n){var o,a,l,i,t=t&&t.prototype instanceof h?t:h,t=Object.create(t.prototype),n=new R(n||[]);return u(t,"_invoke",{value:(o=e,a=r,l=n,i=m,function(e,t){if(i===d)throw new Error("Generator is already running");if(i===g){if("throw"===e)throw t;return{value:s,done:!0}}for(l.method=e,l.arg=t;;){var r=l.delegate;if(r){r=function e(t,r){var n=r.method,o=t.iterator[n];if(o===s)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=s,e(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b;n=f(o,t.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,b;o=n.arg;return o?o.done?(r[t.resultName]=o.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=s),r.delegate=null,b):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}(r,l);if(r){if(r===b)continue;return r}}if("next"===l.method)l.sent=l._sent=l.arg;else if("throw"===l.method){if(i===m)throw i=g,l.arg;l.dispatchException(l.arg)}else"return"===l.method&&l.abrupt("return",l.arg);i=d;r=f(o,a,l);if("normal"===r.type){if(i=l.done?g:p,r.arg===b)continue;return{value:r.arg,done:l.done}}"throw"===r.type&&(i=g,l.method="throw",l.arg=r.arg)}})}),t}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}l.wrap=i;var m="suspendedStart",p="suspendedYield",d="executing",g="completed",b={};function h(){}function y(){}function w(){}var t={},v=(a(t,n,function(){return this}),Object.getPrototypeOf),v=v&&v(v(x([]))),_=(v&&v!==e&&c.call(v,n)&&(t=v),w.prototype=h.prototype=Object.create(t));function C(e){["next","throw","return"].forEach(function(t){a(e,t,function(e){return this._invoke(t,e)})})}function E(l,i){var t;u(this,"_invoke",{value:function(r,n){function e(){return new i(function(e,t){!function t(e,r,n,o){var a,e=f(l[e],l,r);if("throw"!==e.type)return(r=(a=e.arg).value)&&"object"==P(r)&&c.call(r,"__await")?i.resolve(r.__await).then(function(e){t("next",e,n,o)},function(e){t("throw",e,n,o)}):i.resolve(r).then(function(e){a.value=e,n(a)},function(e){return t("throw",e,n,o)});o(e.arg)}(r,n,e,t)})}return t=t?t.then(e,e):e()}})}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function x(t){if(t||""===t){var r,e=t[n];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return r=-1,(e=function e(){for(;++r<t.length;)if(c.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=s,e.done=!0,e}).next=e}throw new TypeError(P(t)+" is not iterable")}return u(_,"constructor",{value:y.prototype=w,configurable:!0}),u(w,"constructor",{value:y,configurable:!0}),y.displayName=a(w,o,"GeneratorFunction"),l.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},l.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,a(e,o,"GeneratorFunction")),e.prototype=Object.create(_),e},l.awrap=function(e){return{__await:e}},C(E.prototype),a(E.prototype,r,function(){return this}),l.AsyncIterator=E,l.async=function(e,t,r,n,o){void 0===o&&(o=Promise);var a=new E(i(e,t,r,n),o);return l.isGeneratorFunction(t)?a:a.next().then(function(e){return e.done?e.value:a.next()})},C(_),a(_,o,"Generator"),a(_,n,function(){return this}),a(_,"toString",function(){return"[object Generator]"}),l.keys=function(e){var t,r=Object(e),n=[];for(t in r)n.push(t);return n.reverse(),function e(){for(;n.length;){var t=n.pop();if(t in r)return e.value=t,e.done=!1,e}return e.done=!0,e}},l.values=x,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&c.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=s)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this;function e(e,t){return a.type="throw",a.arg=r,n.next=e,t&&(n.method="next",n.arg=s),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var o=this.tryEntries[t],a=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var l=c.call(o,"catchLoc"),i=c.call(o,"finallyLoc");if(l&&i){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;0<=r;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&c.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var a=(o=o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc?null:o)?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,b):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),b}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r,n,o=this.tryEntries[t];if(o.tryLoc===e)return"throw"===(r=o.completion).type&&(n=r.arg,S(o)),n}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=s),b}},l}function s(e,t,r,n,o,a,l){try{var i=e[a](l),s=i.value}catch(e){return void r(e)}i.done?t(s):Promise.resolve(s).then(n,o)}var o,c,u,e,a,t,l,i,r,f,m,p,d,g,b,h,G,y,w,v,H,C,q,E,k,S,R,x,F,I,L,N,A,j,T=window.WPForms||{};T.FormSelector=T.FormSelector||(o=document,c=window,u=jQuery,e=wp.serverSideRender,a=void 0===e?wp.components.ServerSideRender:e,e=wp.element,t=e.createElement,l=e.Fragment,i=e.useState,r=e.createInterpolateElement,f=wp.blocks.registerBlockType,e=wp.blockEditor||wp.editor,m=e.InspectorControls,p=e.InspectorAdvancedControls,d=e.PanelColorSettings,e=wp.components,g=e.SelectControl,b=e.ToggleControl,h=e.PanelBody,G=e.Placeholder,y=e.Flex,w=e.FlexBlock,v=e.__experimentalUnitControl,H=e.TextareaControl,C=e.Button,q=e.Modal,e=wpforms_gutenberg_form_selector,E=e.strings,k=e.defaults,S=e.sizes,R=k,x=wp.i18n.__,F=wpforms_gutenberg_form_selector.forms,I={},L=!0,A=!(N={}),j={init:function(){j.initDefaults(),j.registerBlock(),u(j.ready)},ready:function(){j.events()},events:function(){u(c).on("wpformsFormSelectorEdit",_.debounce(j.blockEdit,250)).on("wpformsFormSelectorFormLoaded",_.debounce(j.formLoaded,250))},getForms:function(){return i=B().mark(function e(){var t;return B().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(A)return e.abrupt("return");e.next=2;break;case 2:return A=!0,e.prev=3,e.next=6,wp.apiFetch({path:"/wpforms/v1/forms/",method:"GET",cache:"no-cache"});case 6:t=e.sent,F=t.forms,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.error(e.t0);case 13:return e.prev=13,A=!1,e.finish(13);case 16:case"end":return e.stop()}},e,null,[[3,10,13,16]])}),function(){var e=this,l=arguments;return new Promise(function(t,r){var n=i.apply(e,l);function o(e){s(n,t,r,o,a,"next",e)}function a(e){s(n,t,r,o,a,"throw",e)}o(void 0)})}();var i},openBuilderPopup:function(e){u.isEmptyObject(N)&&(t=u("#wpforms-gutenberg-popup"),(r=u("#wpwrap")).after(t),N=r.siblings("#wpforms-gutenberg-popup"));var t=wpforms_gutenberg_form_selector.get_started_url,r=N.find("iframe");j.builderCloseButtonEvent(e),r.attr("src",t),N.fadeIn()},builderCloseButtonEvent:function(o){N.off("wpformsBuilderInPopupClose").on("wpformsBuilderInPopupClose",function(e,t,r,n){"saved"===t&&r&&(t=wp.blocks.createBlock("wpforms/form-selector",{formId:r.toString()}),F=[{ID:r,post_title:n}],wp.data.dispatch("core/block-editor").removeBlock(o),wp.data.dispatch("core/block-editor").insertBlocks(t))})},registerBlock:function(){f("wpforms/form-selector",{title:E.title,description:E.description,icon:j.getIcon(),keywords:E.form_keywords,category:"widgets",attributes:j.getBlockAttributes(),supports:{customClassName:j.hasForms()},example:{attributes:{preview:!0}},edit:function(e){j.getForms();var t,r=e.attributes,n=j.getFormOptions(),o=j.getSettingsFieldsHandlers(e),a=(r.clientId||e.setAttributes({clientId:e.clientId}),[j.jsxParts.getMainSettings(r,o,n)]);return j.hasForms()?(t=j.getSizeOptions(),r.formId?(a.push(j.jsxParts.getStyleSettings(e,o,t),j.jsxParts.getAdvancedSettings(e,o),j.jsxParts.getBlockFormContent(e)),o.updateCopyPasteContent(),u(c).trigger("wpformsFormSelectorEdit",[e])):r.preview?a.push(j.jsxParts.getBlockPreview()):a.push(j.jsxParts.getBlockPlaceholder(e.attributes,o,n))):a.push(j.jsxParts.getEmptyFormsPreview(e)),a},save:function(){return null}})},initDefaults:function(){["formId","copyPasteJsonValue"].forEach(function(e){return delete R[e]})},hasForms:function(){return 1<=F.length},jsxParts:{getMainSettings:function(e,t,r){return j.hasForms()?React.createElement(m,{key:"wpforms-gutenberg-form-selector-inspector-main-settings"},React.createElement(h,{className:"wpforms-gutenberg-panel",title:E.form_settings},React.createElement(g,{label:E.form_selected,value:e.formId,options:r,onChange:function(e){return t.attrChange("formId",e)}}),React.createElement(b,{label:E.show_title,checked:e.displayTitle,onChange:function(e){return t.attrChange("displayTitle",e)}}),React.createElement(b,{label:E.show_description,checked:e.displayDesc,onChange:function(e){return t.attrChange("displayDesc",e)}}),React.createElement("p",{className:"wpforms-gutenberg-panel-notice"},React.createElement("strong",null,E.panel_notice_head),E.panel_notice_text,React.createElement("a",{href:E.panel_notice_link,rel:"noreferrer",target:"_blank"},E.panel_notice_link_text)))):j.jsxParts.printEmptyFormsNotice(e.clientId)},printEmptyFormsNotice:function(e){return React.createElement(m,{key:"wpforms-gutenberg-form-selector-inspector-main-settings"},React.createElement(h,{className:"wpforms-gutenberg-panel",title:E.form_settings},React.createElement("p",{className:"wpforms-gutenberg-panel-notice wpforms-warning wpforms-empty-form-notice",style:{display:"block"}},React.createElement("strong",null,x("You haven’t created a form, yet!","wpforms-lite")),x("What are you waiting for?","wpforms-lite")),React.createElement("button",{type:"button",className:"get-started-button components-button is-secondary",onClick:function(){j.openBuilderPopup(e)}},x("Get Started","wpforms-lite"))))},getFieldStyles:function(e,t,r){return React.createElement(h,{className:j.getPanelClass(e),title:E.field_styles},React.createElement("p",{className:"wpforms-gutenberg-panel-notice wpforms-use-modern-notice"},React.createElement("strong",null,E.use_modern_notice_head),E.use_modern_notice_text," ",React.createElement("a",{href:E.use_modern_notice_link,rel:"noreferrer",target:"_blank"},E.learn_more)),React.createElement("p",{className:"wpforms-gutenberg-panel-notice wpforms-warning wpforms-lead-form-notice",style:{display:"none"}},React.createElement("strong",null,E.lead_forms_panel_notice_head),E.lead_forms_panel_notice_text),React.createElement(y,{gap:4,align:"flex-start",className:"wpforms-gutenberg-form-selector-flex",justify:"space-between"},React.createElement(w,null,React.createElement(g,{label:E.size,value:e.attributes.fieldSize,options:r,onChange:function(e){return t.styleAttrChange("fieldSize",e)}})),React.createElement(w,null,React.createElement(v,{label:E.border_radius,value:e.attributes.fieldBorderRadius,isUnitSelectTabbable:!0,onChange:function(e){return t.styleAttrChange("fieldBorderRadius",e)}}))),React.createElement("div",{className:"wpforms-gutenberg-form-selector-color-picker"},React.createElement("div",{className:"wpforms-gutenberg-form-selector-control-label"},E.colors),React.createElement(d,{__experimentalIsRenderedInSidebar:!0,enableAlpha:!0,showTitle:!1,className:"wpforms-gutenberg-form-selector-color-panel",colorSettings:[{value:e.attributes.fieldBackgroundColor,onChange:function(e){return t.styleAttrChange("fieldBackgroundColor",e)},label:E.background},{value:e.attributes.fieldBorderColor,onChange:function(e){return t.styleAttrChange("fieldBorderColor",e)},label:E.border},{value:e.attributes.fieldTextColor,onChange:function(e){return t.styleAttrChange("fieldTextColor",e)},label:E.text}]})))},getLabelStyles:function(e,t,r){return React.createElement(h,{className:j.getPanelClass(e),title:E.label_styles},React.createElement(g,{label:E.size,value:e.attributes.labelSize,className:"wpforms-gutenberg-form-selector-fix-bottom-margin",options:r,onChange:function(e){return t.styleAttrChange("labelSize",e)}}),React.createElement("div",{className:"wpforms-gutenberg-form-selector-color-picker"},React.createElement("div",{className:"wpforms-gutenberg-form-selector-control-label"},E.colors),React.createElement(d,{__experimentalIsRenderedInSidebar:!0,enableAlpha:!0,showTitle:!1,className:"wpforms-gutenberg-form-selector-color-panel",colorSettings:[{value:e.attributes.labelColor,onChange:function(e){return t.styleAttrChange("labelColor",e)},label:E.label},{value:e.attributes.labelSublabelColor,onChange:function(e){return t.styleAttrChange("labelSublabelColor",e)},label:E.sublabel_hints.replace("&amp;","&")},{value:e.attributes.labelErrorColor,onChange:function(e){return t.styleAttrChange("labelErrorColor",e)},label:E.error_message}]})))},getButtonStyles:function(e,t,r){return React.createElement(h,{className:j.getPanelClass(e),title:E.button_styles},React.createElement(y,{gap:4,align:"flex-start",className:"wpforms-gutenberg-form-selector-flex",justify:"space-between"},React.createElement(w,null,React.createElement(g,{label:E.size,value:e.attributes.buttonSize,options:r,onChange:function(e){return t.styleAttrChange("buttonSize",e)}})),React.createElement(w,null,React.createElement(v,{onChange:function(e){return t.styleAttrChange("buttonBorderRadius",e)},label:E.border_radius,isUnitSelectTabbable:!0,value:e.attributes.buttonBorderRadius}))),React.createElement("div",{className:"wpforms-gutenberg-form-selector-color-picker"},React.createElement("div",{className:"wpforms-gutenberg-form-selector-control-label"},E.colors),React.createElement(d,{__experimentalIsRenderedInSidebar:!0,enableAlpha:!0,showTitle:!1,className:"wpforms-gutenberg-form-selector-color-panel",colorSettings:[{value:e.attributes.buttonBackgroundColor,onChange:function(e){return t.styleAttrChange("buttonBackgroundColor",e)},label:E.background},{value:e.attributes.buttonTextColor,onChange:function(e){return t.styleAttrChange("buttonTextColor",e)},label:E.text}]}),React.createElement("div",{className:"wpforms-gutenberg-form-selector-legend wpforms-button-color-notice"},E.button_color_notice)))},getStyleSettings:function(e,t,r){return React.createElement(m,{key:"wpforms-gutenberg-form-selector-style-settings"},j.jsxParts.getFieldStyles(e,t,r),j.jsxParts.getLabelStyles(e,t,r),j.jsxParts.getButtonStyles(e,t,r))},getAdvancedSettings:function(e,t){function r(){return a(!1)}var n=V(i(!1),2),o=n[0],a=n[1];return React.createElement(p,null,React.createElement("div",{className:j.getPanelClass(e)},React.createElement(H,{label:E.copy_paste_settings,rows:"4",spellCheck:"false",value:e.attributes.copyPasteJsonValue,onChange:function(e){return t.pasteSettings(e)}}),React.createElement("div",{className:"wpforms-gutenberg-form-selector-legend",dangerouslySetInnerHTML:{__html:E.copy_paste_notice}}),React.createElement(C,{className:"wpforms-gutenberg-form-selector-reset-button",onClick:function(){return a(!0)}},E.reset_style_settings)),o&&React.createElement(q,{className:"wpforms-gutenberg-modal",title:E.reset_style_settings,onRequestClose:r},React.createElement("p",null,E.reset_settings_confirm_text),React.createElement(y,{gap:3,align:"center",justify:"flex-end"},React.createElement(C,{isSecondary:!0,onClick:r},E.btn_no),React.createElement(C,{isPrimary:!0,onClick:function(){r(),t.resetSettings()}},E.btn_yes_reset))))},getBlockFormContent:function(e){var t,r;return L?React.createElement(a,{key:"wpforms-gutenberg-form-selector-server-side-renderer",block:"wpforms/form-selector",attributes:e.attributes}):(t=e.clientId,(r=j.getBlockContainer(e))&&r.innerHTML?(I[t]=I[t]||{},I[t].blockHTML=r.innerHTML,I[t].loadedFormId=e.attributes.formId,React.createElement(l,{key:"wpforms-gutenberg-form-selector-fragment-form-html"},React.createElement("div",{dangerouslySetInnerHTML:{__html:I[t].blockHTML}}))):(L=!0,j.jsxParts.getBlockFormContent(e)))},getBlockPreview:function(){return React.createElement(l,{key:"wpforms-gutenberg-form-selector-fragment-block-preview"},React.createElement("img",{src:wpforms_gutenberg_form_selector.block_preview_url,style:{width:"100%"},alt:""}))},getEmptyFormsPreview:function(e){var t=e.clientId;return React.createElement(l,{key:"wpforms-gutenberg-form-selector-fragment-block-empty"},React.createElement("div",{className:"wpforms-no-form-preview"},React.createElement("img",{src:wpforms_gutenberg_form_selector.block_empty_url,alt:""}),React.createElement("p",null,r(x("You can use <b>WPForms</b> to build contact forms, surveys, payment forms, and more with just a few clicks.","wpforms-lite"),{b:React.createElement("strong",null)})),React.createElement("button",{type:"button",className:"get-started-button components-button is-primary",onClick:function(){j.openBuilderPopup(t)}},x("Get Started","wpforms-lite")),React.createElement("p",{className:"empty-desc"},r(x("Need some help? Check out our <a>comprehensive guide.</a>","wpforms-lite"),{a:React.createElement("a",{href:wpforms_gutenberg_form_selector.wpforms_guide,target:"_blank",rel:"noopener noreferrer"})})),React.createElement("div",{id:"wpforms-gutenberg-popup",className:"wpforms-builder-popup"},React.createElement("iframe",{src:"about:blank",width:"100%",height:"100%",id:"wpforms-builder-iframe",title:"WPForms Builder Popup"}))))},getBlockPlaceholder:function(e,t,r){return React.createElement(G,{key:"wpforms-gutenberg-form-selector-wrap",className:"wpforms-gutenberg-form-selector-wrap"},React.createElement("img",{src:wpforms_gutenberg_form_selector.logo_url,alt:""}),React.createElement("h3",null,E.title),React.createElement(g,{key:"wpforms-gutenberg-form-selector-select-control",value:e.formId,options:r,onChange:function(e){return t.attrChange("formId",e)}}))}},getPanelClass:function(e){e="wpforms-gutenberg-panel wpforms-block-settings-"+e.clientId;return j.isFullStylingEnabled()||(e+=" disabled_panel"),e},isFullStylingEnabled:function(){return wpforms_gutenberg_form_selector.is_modern_markup&&wpforms_gutenberg_form_selector.is_full_styling},getBlockContainer:function(e){var t,e="#block-".concat(e.clientId," > div"),r=o.querySelector(e);return r=r?r:(t=o.querySelector('iframe[name="editor-canvas"]'))&&t.contentWindow.document.querySelector(e)},getSettingsFieldsHandlers:function(i){return{styleAttrChange:function(e,t){var r=j.getBlockContainer(i),n=r.querySelector("#wpforms-".concat(i.attributes.formId)),o=e.replace(/[A-Z]/g,function(e){return"-".concat(e.toLowerCase())}),a={};if(n)switch(o){case"field-size":case"label-size":case"button-size":for(var l in S[o][t])n.style.setProperty("--wpforms-".concat(o,"-").concat(l),S[o][t][l]);break;default:n.style.setProperty("--wpforms-".concat(o),t)}a[e]=t,i.setAttributes(a),L=!1,this.updateCopyPasteContent(),u(c).trigger("wpformsFormSelectorStyleAttrChange",[r,i,e,t])},attrChange:function(e,t){var r={};r[e]=t,i.setAttributes(r),L=!0,this.updateCopyPasteContent()},resetSettings:function(){for(var e in R)this.styleAttrChange(e,R[e])},updateCopyPasteContent:function(){var e,t={},r=wp.data.select("core/block-editor").getBlockAttributes(i.clientId);for(e in R)t[e]=r[e];i.setAttributes({copyPasteJsonValue:JSON.stringify(t)})},pasteSettings:function(e){var t=j.parseValidateJson(e);t?(t.copyPasteJsonValue=e,i.setAttributes(t),L=!0):(wp.data.dispatch("core/notices").createErrorNotice(E.copy_paste_error,{id:"wpforms-json-parse-error"}),this.updateCopyPasteContent())}}},parseValidateJson:function(e){if("string"!=typeof e)return!1;var t;try{t=JSON.parse(e)}catch(e){t=!1}return t},getIcon:function(){return t("svg",{width:20,height:20,viewBox:"0 0 612 612",className:"dashicon"},t("path",{fill:"currentColor",d:"M544,0H68C30.445,0,0,30.445,0,68v476c0,37.556,30.445,68,68,68h476c37.556,0,68-30.444,68-68V68 C612,30.445,581.556,0,544,0z M464.44,68L387.6,120.02L323.34,68H464.44z M288.66,68l-64.26,52.02L147.56,68H288.66z M544,544H68 V68h22.1l136,92.14l79.9-64.6l79.56,64.6l136-92.14H544V544z M114.24,263.16h95.88v-48.28h-95.88V263.16z M114.24,360.4h95.88 v-48.62h-95.88V360.4z M242.76,360.4h255v-48.62h-255V360.4L242.76,360.4z M242.76,263.16h255v-48.28h-255V263.16L242.76,263.16z M368.22,457.3h129.54V408H368.22V457.3z"}))},getBlockAttributes:function(){return{clientId:{type:"string",default:""},formId:{type:"string",default:k.formId},displayTitle:{type:"boolean",default:k.displayTitle},displayDesc:{type:"boolean",default:k.displayDesc},preview:{type:"boolean"},fieldSize:{type:"string",default:k.fieldSize},fieldBorderRadius:{type:"string",default:k.fieldBorderRadius},fieldBackgroundColor:{type:"string",default:k.fieldBackgroundColor},fieldBorderColor:{type:"string",default:k.fieldBorderColor},fieldTextColor:{type:"string",default:k.fieldTextColor},labelSize:{type:"string",default:k.labelSize},labelColor:{type:"string",default:k.labelColor},labelSublabelColor:{type:"string",default:k.labelSublabelColor},labelErrorColor:{type:"string",default:k.labelErrorColor},buttonSize:{type:"string",default:k.buttonSize},buttonBorderRadius:{type:"string",default:k.buttonBorderRadius},buttonBackgroundColor:{type:"string",default:k.buttonBackgroundColor},buttonTextColor:{type:"string",default:k.buttonTextColor},copyPasteJsonValue:{type:"string",default:k.copyPasteJsonValue}}},getFormOptions:function(){var e=F.map(function(e){return{value:e.ID,label:e.post_title}});return e.unshift({value:"",label:E.form_select}),e},getSizeOptions:function(){return[{label:E.small,value:"small"},{label:E.medium,value:"medium"},{label:E.large,value:"large"}]},blockEdit:function(e,t){t=j.getBlockContainer(t);t&&t.dataset&&j.initLeadFormSettings(t.parentElement)},initLeadFormSettings:function(e){var t;e&&e.dataset&&j.isFullStylingEnabled()&&(t=e.dataset.block,e=u(e.querySelector(".wpforms-container")),t=u(".wpforms-block-settings-".concat(t)),e.hasClass("wpforms-lead-forms-container")?(t.addClass("disabled_panel").find(".wpforms-gutenberg-panel-notice.wpforms-lead-form-notice").css("display","block"),t.find(".wpforms-gutenberg-panel-notice.wpforms-use-modern-notice").css("display","none")):(t.removeClass("disabled_panel").find(".wpforms-gutenberg-panel-notice.wpforms-lead-form-notice").css("display","none"),t.find(".wpforms-gutenberg-panel-notice.wpforms-use-modern-notice").css("display",null)))},formLoaded:function(e){j.initLeadFormSettings(e.detail.block),j.updateAccentColors(e.detail),j.loadChoicesJS(e.detail),j.initRichTextField(e.detail.formId),u(e.detail.block).off("click").on("click",j.blockClick)},blockClick:function(e){j.initLeadFormSettings(e.currentTarget)},updateAccentColors:function(e){var t;wpforms_gutenberg_form_selector.is_modern_markup&&c.WPForms&&c.WPForms.FrontendModern&&e.block&&(e=u(e.block.querySelector("#wpforms-".concat(e.formId))),(t=c.WPForms.FrontendModern).updateGBBlockPageIndicatorColor(e),t.updateGBBlockIconChoicesColor(e),t.updateGBBlockRatingColor(e))},loadChoicesJS:function(e){"function"==typeof c.Choices&&u(e.block.querySelector("#wpforms-".concat(e.formId))).find(".choicesjs-select").each(function(e,t){var r=u(t);if("active"!==r.data("choice")){var n=c.wpforms_choicesjs_config||{},o=r.data("search-enabled"),a=r.closest(".wpforms-field");n.searchEnabled=void 0===o||o,n.callbackOnInit=function(){var e=u(this.passedElement.element),t=u(this.input.element),r=e.data("size-class");r&&u(this.containerOuter.element).addClass(r),e.prop("multiple")&&(t.data("placeholder",t.attr("placeholder")),this.getValue(!0).length)&&t.removeAttr("placeholder"),this.disable(),a.find(".is-disabled").removeClass("is-disabled")};try{var l=new Choices(t,n);r.data("choicesjs",l)}catch(e){}}})},initRichTextField:function(e){u("#wpforms-".concat(e," .wp-editor-wrap")).removeClass("html-active").addClass("tmce-active")}}),T.FormSelector.init()},{}]},{},[1]);