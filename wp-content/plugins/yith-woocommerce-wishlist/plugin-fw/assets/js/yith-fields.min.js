!function(i){var e={selectors:{imgPreview:".yith-plugin-fw-upload-img-preview",uploadButton:".yith-plugin-fw-upload-button",imgUrl:".yith-plugin-fw-upload-img-url",resetButton:".yith-plugin-fw-upload-button-reset"},onImageChange:function(){var t=i(this).val(),n=new RegExp("(http|ftp|https)://[a-zA-Z0-9@?^=%&amp;:/~+#-_.]*.(gif|jpg|jpeg|png|ico|svg)"),a=i(this).parent().find(e.selectors.imgPreview).first();a.length<1&&(a=i(this).parent().parent().find(e.selectors.imgPreview).first()),n.test(t)?a.html('<img src="'+t+'" style="max-width:100px; max-height:100px;" />'):a.html("")},onButtonClick:function(t){t.preventDefault();var n,a=i(this).attr("id").replace(/-button$/,"").replace(/(\[|\])/g,"\\$1");if(n)n.open();else{var l=[new wp.media.controller.Library({library:wp.media.query(),multiple:!1,title:"Choose Image",priority:20,filterable:"uploaded"})];(n=wp.media.frames.downloadable_file=wp.media({title:"Choose Image",library:{type:""},button:{text:"Choose Image"},multiple:!1,states:l})).on("select",function(){var t=n.state().get("selection").first().toJSON(),l=i("#"+a+"-yith-attachment-id");i("#"+a).val(t.url),l.length&&l.val(t.id),e.triggerImageChange()}),n.open()}},onResetClick:function(){var t=i(this),n=t.attr("id").replace(/(\[|\])/g,"\\$1"),a=t.attr("id").replace(/-button-reset$/,"").replace(/(\[|\])/g,"\\$1"),l=i("#"+n).data("default");i("#"+a).val(l),e.triggerImageChange()},triggerImageChange:function(){i(e.selectors.imgUrl).trigger("change")},initOnce:function(){"undefined"!=typeof wp&&"undefined"!=typeof wp.media&&(i(document).on("change",e.selectors.imgUrl,e.onImageChange),i(document).on("click",e.selectors.uploadButton,e.onButtonClick),i(document).on("click",e.selectors.resetButton,e.onResetClick))}};i(function(){e.initOnce()});var t={selectors:{gallery:".yith-plugin-fw-image-gallery",notInitGallery:".yith-plugin-fw-image-gallery:not(.yith-plugin-fw-image-gallery--initialized)",button:".yith-plugin-fw-image-gallery .image-gallery-button",slideWrapper:"ul.slides-wrapper"},initOnce:function(){"undefined"!=typeof wp&&"undefined"!=typeof wp.media&&i(document).on("click",t.selectors.button,function(e){var n=i(this),a=n.closest(t.selectors.gallery),l=a.find(".image_gallery_ids"),o=l.val(),s=a.find("ul.slides-wrapper"),r=wp.media.frames.image_gallery=wp.media({title:n.data("choose"),button:{text:n.data("update")},states:[new wp.media.controller.Library({title:n.data("choose"),filterable:"all",multiple:!0})]});r.on("select",function(){r.state().get("selection").map(function(i){if((i=i.toJSON()).id){o=o?o+","+i.id:i.id;var e=i.sizes.thumbnail||i.sizes.medium||i.sizes.large||i.sizes.full;s.append('<li class="image" data-attachment_id="'+i.id+'"><img src="'+e.url+'"/><i href="#" class="delete yith-icon yith-icon-trash" title="'+n.data("delete")+'"></i></li>')}}),l.val(o),l.trigger("change")}),r.open()})},init:function(){"undefined"!=typeof wp&&"undefined"!=typeof wp.media&&i(t.selectors.notInitGallery).each(function(){i(this).addClass("yith-plugin-fw-image-gallery--initialized");var e=i(this).find(t.selectors.slideWrapper);e.each(function(){var e=i(this);e.sortable({items:"li.image",cursor:"move",scrollSensitivity:40,forcePlaceholderSize:!0,forceHelperSize:!1,helper:"clone",opacity:.65,start:function(i,e){e.item.css("background-color","#f6f6f6")},stop:function(i,e){e.item.removeAttr("style")},update:function(n,a){var l="";e.find("li.image").css("cursor","default").each(function(){var e=i(this).attr("data-attachment_id");l=l+e+","}),e.closest(t.selectors.gallery).find(".image_gallery_ids").val(l)}})}),e.on("click",".delete",function(e){e.preventDefault();var n=i(this).closest(t.selectors.gallery),a=n.find("ul.slides-wrapper"),l=n.find(".image_gallery_ids"),o="";i(this).closest("li.image").remove(),a.find("li.image").css("cursor","default").each(function(){var e=i(this).attr("data-attachment_id");o=o+e+","}),l.val(o)})})}};i(function(){t.initOnce()}),i(function(){i(document).on("yith-plugin-fw-codemirror-init",function(){"undefined"!=typeof wp&&"undefined"!=typeof wp.codeEditor&&i(".codemirror:not(.codemirror--initialized)").each(function(){var e=i(this).data("settings"),t=wp.codeEditor.initialize(i(this),e);i(this).addClass("codemirror--initialized"),i(this).data("codemirrorInstance",t)})}).trigger("yith-plugin-fw-codemirror-init")});i(document).on("yith_fields_init",function(){var n=i(".yith-plugin-fw-datepicker:not(.yith-plugin-fw-datepicker--initialized)"),a=i(".yith-plugin-fw-colorpicker:not(.yith-plugin-fw-colorpicker--initialized)"),l=i(".yith-plugin-fw-sidebar-layout:not(.yith-plugin-fw-sidebar-layout--initialized)"),o=i(".yith-plugin-fw-slider-container:not(.yith-plugin-fw-slider-container--initialized)"),s=i(".yit-icons-manager-wrapper:not(.yit-icons-manager-wrapper--initialized)");n.each(function(){i(this).addClass("yith-plugin-fw-datepicker--initialized");var e=i(this),t=e.data(),n=e.next(".yith-icon-calendar");t.showAnim=!1,t.beforeShow=function(i,e){e.dpDiv.addClass("yith-plugin-fw-datepicker-div")},t.onClose=function(i,e){e.dpDiv.removeClass("yith-plugin-fw-datepicker-div")},e.datepicker(t),n&&n.on("click",function(){e.datepicker("show")})}),a.each(function(){i(this).addClass("yith-plugin-fw-colorpicker--initialized"),i(this).wpColorPicker({palettes:!1,width:200,mode:"hsl",clear:function(){var e=i(this);e.val(e.data("default-color")),e.trigger("change")}});var e=i(this).data("variations-label"),t=i(this).closest(".yith-plugin-fw-colorpicker-field-wrapper"),n=i(this).closest(".yith-single-colorpicker"),a=t.find(".wp-picker-input-wrap"),l=n.find(".wp-picker-input-wrap");if(a.length&&t.find("a.wp-color-result").attr("title",e),n.length&&n.find("a.wp-color-result").attr("title",e),!a.find(".wp-picker-default-custom").length){var o=i("<span/>").attr({"class":"wp-picker-default-custom"});a.find(".wp-picker-default").wrap(o)}l.find(".wp-picker-default-custom").length||(o=i("<span/>").attr({"class":"wp-picker-default-custom"}),l.find(".wp-picker-default").wrap(o))}),l.each(function(){i(this).addClass("yith-plugin-fw-sidebar-layout--initialized"),i(this).find("img").on("click",function(){var e=i(this).closest(".yith-plugin-fw-sidebar-layout"),t=e.find(".yith-plugin-fw-sidebar-layout-sidebar-left-container"),n=e.find(".yith-plugin-fw-sidebar-layout-sidebar-right-container"),a=i(this).data("type");if(i(this).parent().children(":radio").attr("checked",!1),i(this).prev(":radio").attr("checked",!0),void 0!==a)switch(a){case"left":t.show(),n.hide();break;case"right":n.show(),t.hide();break;case"double":t.show(),n.show();break;default:t.hide(),n.hide()}})}),o.each(function(){i(this).addClass("yith-plugin-fw-slider-container--initialized");var e=i(this).find(".ui-slider-horizontal"),t=e.data("val"),n=e.data("min"),a=e.data("max"),l=e.data("step"),o=e.data("labels");e.slider({value:t,min:n,max:a,range:"min",step:l,create:function(){i(this).find(".ui-slider-handle").text(i(this).slider("value"))},slide:function(e,t){i(this).find("input").val(t.value).trigger("change"),i(this).find(".ui-slider-handle").text(t.value),i(this).siblings(".feedback").find("strong").text(t.value+o)}})}),s.each(function(){i(this).addClass("yit-icons-manager-wrapper--initialized");var e=i(this),t=e.find(".yit-icons-manager-icon-preview").first(),n=e.find(".yit-icons-manager-icon-text");e.on("click",".yit-icons-manager-list li",function(a){var l=i(a.target).closest("li"),o=l.data("font"),s=l.data("icon"),r=l.data("key"),d=l.data("name");t.attr("data-font",o),t.attr("data-icon",s),t.attr("data-key",r),t.attr("data-name",d),n.val(o+":"+d),e.find(".yit-icons-manager-list li").removeClass("active"),l.addClass("active")}),e.on("click",".yit-icons-manager-action-set-default",function(){e.find(".yit-icons-manager-list li.default").trigger("click")})}),i(document).find(".ui-sortable .yith-toggle-elements").sortable({cursor:"move",axis:"y",scrollSensitivity:40,forcePlaceholderSize:!0,helper:"clone",stop:function(e,t){var n=jQuery(".ui-sortable-handle"),a=0,l=new Array;for(a=0;a<n.length;a++)l[a]=i(n[a]).data("item_key");l.length>0&&i(this).closest(".toggle-element,.yith-plugin-fw__panel__option--toggle-element").saveToggleElement(null,l)}}),i(document.body).trigger("wc-enhanced-select-init"),i(document.body).trigger("yith-framework-enhanced-select-init"),i(document).trigger("yith-plugin-fw-codemirror-init"),e.triggerImageChange(),t.init()}).trigger("yith_fields_init"),i(document).on("click",".yith-plugin-fw-select-images__item",function(){var e=i(this),t=e.data("key"),n=e.closest(".yith-plugin-fw-select-images__wrapper"),a=n.find(".yith-plugin-fw-select-images__item"),l=n.find("select").first();l.length&&(l.val(t).trigger("yith_select_images_value_changed").trigger("change"),a.removeClass("yith-plugin-fw-select-images__item--selected"),e.addClass("yith-plugin-fw-select-images__item--selected"))}),i(document).on("click",".yith-plugin-fw-select-all",function(){i("#"+i(this).data("select-id")).find("option").prop("selected",!0).trigger("change")}),i(document).on("click",".yith-plugin-fw-deselect-all",function(){i("#"+i(this).data("select-id")).find("option").prop("selected",!1).trigger("change")}),i(document).on("click",".yith-plugin-fw-onoff-container span",function(){var e=i(this).prev("input");e.prop("disabled")||e.trigger("click")}),i(document).on("click",".yith-plugin-fw-onoff-container input",function(e){i(this).is(":checked")?i(this).attr("value","yes").addClass("onoffchecked"):i(this).attr("value","no").removeClass("onoffchecked")}),i.fn.saveToggleElement=function(e,t){var n=i(this),a="yith_plugin_fw_save_toggle_element",l=n.serializeToggleElement(),o=n.find(".yith-toggle_wrapper"),s=o.attr("id"),r=i.urlParam("tab"),d=i.urlParam("sub_tab");l.append("security",o.data("nonce")),void 0!==t&&t.length>0&&l.append("yith_toggle_elements_order_keys",t),n.closest(".metaboxes-tab.yith-plugin-ui").length?(a="yith_plugin_fw_save_toggle_element_metabox",post_id=i(this).closest("form#post").find("#post_ID").val(),yit_metaboxes_nonce=i(this).closest("form#post").find("#yit_metaboxes_nonce").val(),metabox_tab=i(this).closest(".tabs-panel").attr("id"),url=yith_framework_fw_fields.ajax_url+"?action="+a+"&post_ID="+post_id+"&yit_metaboxes_nonce="+yit_metaboxes_nonce+"&toggle_id="+s+"&metabox_tab="+metabox_tab):url=yith_framework_fw_fields.admin_url+"?action="+a+"&tab="+r+"&sub_tab="+d+"&toggle_id="+s,i.ajax({type:"POST",url:url,data:l,contentType:!1,processData:!1,success:function(t){e&&e.removeClass("show"),i(document).trigger("yith_save_toggle_element_done",[t,n])}})},i.fn.serializeToggleElement=function(){var e=i(this),t=new FormData,n=i(e).find(":input").serializeArray();return i.each(n,function(i,e){el_name=e.name,t.append(e.name,e.value)}),t},i.fn.formatToggleTitle=function(){var e=i(this),t=e.find(":input"),n=e.find("span.title").data("title_format"),a=e.find(".subtitle").data("subtitle_format"),l=new RegExp("[^%%]+(?=[%%])","g");if(void 0!==n)var o=n.match(l);if(void 0!==a)var s=a.match(l);i.each(t,function(e,t){void 0!==i(t).attr("id")&&($field_id=i(t).attr("id"),$field_array=$field_id.split("_"),$field_array.pop(),$field_id=$field_array.join("_"),$field_val=i(t).val(),null!=o&&void 0!==o&&-1!==o.indexOf($field_id)&&(n=n.replace("%%"+$field_id+"%%",$field_val)),null!=s&&void 0!==s&&-1!==s.indexOf($field_id)&&(a=a.replace("%%"+$field_id+"%%",$field_val)))}),""!==n&&e.find("span.title").html(n),""!==a&&e.find(".subtitle").html(a),i(document).trigger("yith-toggle-element-item-title",[e])},i.urlParam=function(i){var e=new RegExp("[?&]"+i+"=([^&#]*)").exec(window.location.search);return null!==e&&(e[1]||0)},i(document).on("click",".yith-toggle-title",function(e){var t=i(e.target),n=t.closest(".yith-toggle-row"),a=n.find(".yith-toggle-content");if(!!t.closest(".yith-toggle-onoff").length||t.hasClass("yith-icon-drag"))return!1;n.is(".yith-toggle-row-opened")?a.slideUp(400):a.slideDown(400),n.toggleClass("yith-toggle-row-opened")}),i(document).on("click",".yith-add-box-button",function(e){e.preventDefault();var t=i(this),n=t.data("box_id"),a=t.data("closed_label"),l=t.data("opened_label"),o=t.closest(".yith-toggle_wrapper").attr("id"),s=wp.template("yith-toggle-element-add-box-content-"+o);""!==n&&(i("#"+n).html(s({index:"box_id"})).slideToggle(),""!==a&&(t.html()===a?t.html(l).removeClass("closed"):t.html(a).addClass("closed")),i(document).trigger("yith_fields_init"),i(document).trigger("yith-add-box-button-toggle",[t]))}),i(document).on("click",".yith-add-box-buttons .yith-save-button",function(e){e.preventDefault();var t=i(this).parents(".yith-add-box"),n=i(this).closest(".yith-toggle_wrapper").attr("id"),a=t.find(".spinner"),l=i(this).closest(".toggle-element,.yith-plugin-fw__panel__option--toggle-element"),o=t.find(":input"),s=0,r=i('<input type="hidden">');l.find(".yith-toggle-row").each(function(){var e=parseInt(i(this).data("item_key"));s<=e&&(s=e+1)}),r.val(s),i(document).trigger("yith-toggle-change-counter",[r,t]),s=r.val();var d=wp.template("yith-toggle-element-item-"+n),c=i(d({index:s}));a.addClass("show"),i.each(o,function(e,t){if(void 0!==i(t).attr("id")){var n=i(t).attr("id"),a=i(t).val();n="radio"===i(t).attr("type")?(n=(n=i(t).closest(".yith-plugin-fw-radio").attr("id")).replace("new_","")+"_"+s)+"-"+a:n.replace("new_","")+"_"+s,i(t).is(":checked")&&i(c).find("#"+n).prop("checked",!0),(i(t).hasClass("yith-post-search")||i(t).hasClass("yith-term-search"))&&i(c).find("#"+n).html(i("#"+i(t).attr("id")).html()),i(c).find("#"+n).val(a)}}),i(c).formatToggleTitle();var u=i('<input type="hidden">').val("yes");i(document).trigger("yith-toggle-element-item-before-add",[t,c,u]);setTimeout(function(){if("yes"===u.val()){i(l).find(".yith-toggle-elements").append(c),i(t).find(".yith-plugin-fw-datepicker").datepicker("destroy"),i(t).html(""),i(t).prev(".yith-add-box-button").trigger("click"),l.saveToggleElement();setTimeout(function(){i(l).find(".highlight").removeClass("highlight")},2e3),i(document).trigger("yith_fields_init")}},1e3)}),i(document).on("click",".yith-toggle-row .yith-save-button",function(e){e.preventDefault();var t=i(this).closest(".toggle-element,.yith-plugin-fw__panel__option--toggle-element"),n=i(this).closest(".yith-toggle-row"),a=n.find(".spinner");n.formatToggleTitle();var l=i('<input type="hidden">').val("yes");i(document).trigger("yith-toggle-element-item-before-update",[t,n,l]),"yes"===l.val()&&(a.addClass("show"),t.saveToggleElement(a))}),i(document).on("click",".yith-toggle-row .yith-delete-button",function(e){e.preventDefault();var t=i(this).closest(".toggle-element,.yith-plugin-fw__panel__option--toggle-element");i(this).closest(".yith-toggle-row").remove(),t.saveToggleElement()}),i(document).on("click",".yith-toggle-onoff",function(e){e.preventDefault(),i(this).closest(".toggle-element,.yith-plugin-fw__panel__option--toggle-element").saveToggleElement()}),i(document).on("click",".yith-plugin-fw-radio input[type=radio]",function(){var e=i(this).closest(".yith-plugin-fw-radio"),t=i(this).val();e.val(t).data("value",t).trigger("change")}),i(document.body).on("yith-plugin-fw-init-radio",function(){i(".yith-plugin-fw-radio:not(.yith-plugin-fw-radio--initialized)").each(function(){i(this).find('input[type="radio"]').filter('[value="'+i(this).data("value")+'"]').click(),i(this).addClass("yith-plugin-fw-radio--initialized")})}).trigger("yith-plugin-fw-init-radio"),i(document).on("click",".yith-password-eye",function(){var e=i(this),t=i(this).closest(".yith-password-wrapper").find("input");"password"===t.attr("type")?(t.attr("type","text"),e.addClass("yith-password-eye-closed")):(t.attr("type","password"),e.removeClass("yith-password-eye-closed"))}),i(document).on("select2:open",function(e){i(e.target).closest(".yith-plugin-ui").length&&i(".select2-results").closest(".select2-container").addClass("yith-plugin-fw-select2-container")}),i(document).on("select2:open",function(i){i.target.multiple||setTimeout(function(){var i=document.querySelector(".yith-plugin-fw-select2-container .select2-search__field");i&&i.focus()},50)});var n={selectors:{wrapper:".yith-plugin-fw-dimensions",units:{wrapper:".yith-plugin-fw-dimensions__units",single:".yith-plugin-fw-dimensions__unit",value:".yith-plugin-fw-dimensions__unit__value",selectedClass:"yith-plugin-fw-dimensions__unit--selected"},linked:{button:".yith-plugin-fw-dimensions__linked",value:".yith-plugin-fw-dimensions__linked__value",wrapperActiveClass:"yith-plugin-fw-dimensions--linked-active"},dimensions:{number:".yith-plugin-fw-dimensions__dimension__number"}},init:function(){var e=n;i(document).on("click",e.selectors.units.single,e.unitChange),i(document).on("click",e.selectors.linked.button,e.linkedChange),i(document).on("change keyup",e.selectors.dimensions.number,e.numberChange)},unitChange:function(e){var t=i(this).closest(n.selectors.units.single),a=t.closest(n.selectors.units.wrapper),l=a.find(n.selectors.units.single),o=a.find(n.selectors.units.value).first(),s=t.data("value");l.removeClass(n.selectors.units.selectedClass),t.addClass(n.selectors.units.selectedClass),o.val(s).trigger("change")},linkedChange:function(){var e=i(this).closest(n.selectors.linked.button),t=e.closest(n.selectors.wrapper),a=e.find(n.selectors.linked.value);"yes"===a.val()?(t.removeClass(n.selectors.linked.wrapperActiveClass),a.val("no")):(t.addClass(n.selectors.linked.wrapperActiveClass),a.val("yes"),t.find(n.selectors.dimensions.number).first().trigger("change"))},numberChange:function(e){var t=i(this).closest(n.selectors.dimensions.number),a=t.closest(n.selectors.wrapper);a.hasClass(n.selectors.linked.wrapperActiveClass)&&a.find(n.selectors.dimensions.number).val(t.val())}};n.init();i(document).on("click",".yith-plugin-fw-copy-to-clipboard__copy",function(){var e,t=i(this).closest(".yith-plugin-fw-copy-to-clipboard"),n=t.find(".yith-plugin-fw-copy-to-clipboard__field"),a=t.find(".yith-plugin-fw-copy-to-clipboard__tip"),l=t.data("tip-timeout");l&&clearTimeout(l),n.select(),document.execCommand("copy"),(e="getSelection"in window&&window.getSelection())?"empty"in e?e.empty():"removeAllRanges"in e&&e.removeAllRanges():"selection"in document&&document.selection.empty(),a.fadeIn(400),l=setTimeout(function(){a.fadeOut(400)},1500),t.data("tip-timeout",l)});var a={observable:{openedMenu:!1,button:!1},init:function(){i(document).on("click",".yith-plugin-fw__action-button--has-menu",a.open),i(document).on("click",".yith-plugin-fw__action-button__menu",a.stopPropagation),i(document).on("click",a.closeAll),i(window).on("scroll",a.handleScroll)},closeAll:function(){a.observable.openedMenu=!1,i(".yith-plugin-fw__action-button--opened").removeClass("yith-plugin-fw__action-button--opened")},updateMenuPosition:function(){if(a.observable.openedMenu&&a.observable.button){var i=a.observable.button.get(0).getBoundingClientRect(),e={top:i.top+i.height+8,left:i.left+i.width-a.observable.openedMenu.outerWidth()};a.observable.openedMenu.css(e)}},open:function(e){var t=i(this).closest(".yith-plugin-fw__action-button"),n=t.find(".yith-plugin-fw__action-button__menu"),l=t.hasClass("yith-plugin-fw__action-button--opened");e.preventDefault(),e.stopPropagation(),a.closeAll(),l||(t.addClass("yith-plugin-fw__action-button--opened"),a.observable.openedMenu=n,a.observable.button=t,a.updateMenuPosition())},stopPropagation:function(i){i.stopPropagation()},handleScroll:function(){a.updateMenuPosition()}};a.init(),i(document).on("click","a.yith-plugin-fw__require-confirmation-link",function(e){var t=i(this).closest("a.yith-plugin-fw__require-confirmation-link"),n=t.attr("href");if(n&&"#"!==n&&(e.preventDefault(),e.stopPropagation(),"yith"in window&&"ui"in yith)){var a,l=["title","message","confirmButtonType","cancelButton","confirmButton"],o={};for(a in l){var s=l[a],r=t.data(s);void 0!==r&&(o[s]=r)}o.onConfirm=function(){window.location.href=n},o.closeAfterConfirm=!1,o.confirmButtonLoadingAfterConfirm=!0,yith.ui.confirm(o)}}),i(document).on("yith-plugin-fw-tips-init",function(){i(".yith-plugin-fw__tips").tipTip({attribute:"data-tip",fadeIn:50,fadeOut:50,delay:200})}).trigger("yith-plugin-fw-tips-init"),i(document).on("yith-plugin-fw-tabs-init",function(){i(".yith-plugin-fw__tabs:not(.yith-plugin-fw__tabs--initialized)").each(function(){var e=i(this),t=e.data("tab-additional-active-class")||!1,n=e.find(".yith-plugin-fw__tab__handler"),a=e.find(".yith-plugin-fw__tab__handler").first(),l=n.get().map(function(i){return i.getAttribute("href")}).filter(function(i){return!!i}).join(", "),o=i(l),s=function(e){var n=e.parent(".yith-plugin-fw__tab"),a=n.siblings(".yith-plugin-fw__tab"),l=e.attr("href");n.addClass("yith-plugin-fw__tab--active"),t&&n.addClass(t),a.removeClass("yith-plugin-fw__tab--active"),t&&a.removeClass(t),o.hide(),i(l).show()};e.addClass("yith-plugin-fw__tabs--initialized"),e.on("click",".yith-plugin-fw__tab__handler",function(e){e.preventDefault();var t=i(this);t.parent(".yith-plugin-fw__tab").hasClass("yith-plugin-fw__tab--active")||s(t)}),a.length&&s(a)})}).trigger("yith-plugin-fw-tabs-init"),i(document).on("click",".yith-plugin-fw__notice__dismiss",function(){i(this).closest(".yith-plugin-fw__notice").fadeOut(300)}),function(){var e=!1,t={instance:null,wrapper:null,init:function(i){if(t.wrapper=i,!t.instance){var e=[new wp.media.controller.Library({library:wp.media.query(),multiple:!1,priority:20,filterable:"uploaded"})];t.instance=wp.media.frames.downloadable_file=wp.media({library:{type:""},multiple:!1,states:e}),t.instance.on("select",function(){var i=t.instance.state().get("selection").first().toJSON();a(t.wrapper,i)})}},open:function(i){t.init(i),t.instance.open()},destroy:function(){t.instance=null}};function n(e){return i(e).closest(".yith-plugin-fw-media")}function a(i,e){var t=i.find(".yith-plugin-fw-media__url-value"),n=i.find(".yith-plugin-fw-media__id-value");e?("undefined"!=typeof e.url&&t.length&&e.url!==t.val()&&t.val(e.url).trigger("change"),"undefined"!=typeof e.id&&n.length&&e.id!==n.val()&&n.val(e.id).trigger("change"),"undefined"!=typeof e.url&&l(i,e.url)):(t.length&&t.val("").trigger("change"),n.length&&n.val("").trigger("change"),l(i,""))}function l(i,e){var t=i.find(".yith-plugin-fw-media__preview"),n=t.find(".yith-plugin-fw-media__preview__image"),a=t.find(".yith-plugin-fw-media__preview__file__name");if(e){var l=new RegExp("(jpg|jpeg|png|gif|ico|svg|jpe|webp)$").test(e)?"image":"file";if(t.attr("data-type",l),"image"===l)n.attr("src",e);else{var o=e.substring(e.lastIndexOf("/")+1);a.html(o)}}else n.attr("src",""),t.attr("data-type","upload")}function o(e,t){var n=i("<div>");n.addClass(["yith-plugin-fw__notice","yith-plugin-fw__notice--error","yith-plugin-fw-animate__appear-from-top","yith-plugin-fw--inline"]),n.html(t),n.append(i('<span class="yith-plugin-fw__notice__dismiss"></span>')),e.append(n)}function s(){e&&(e=!1,document.removeEventListener("dragend",s),document.removeEventListener("mousemove",s),document.body.classList.remove("yith-plugin-fw--dropzone-active"))}i(document).on("change",".yith-plugin-fw-media__url-value",function(e){var t=i(e.target);l(n(t),t.val())}).on("click",".yith-plugin-fw-media__preview__upload__link, .yith-plugin-fw-media__preview__action--edit",function(e){e.preventDefault();var a=n(i(this));t.open(a)}).on("click",".yith-plugin-fw-media__preview__action--delete",function(i){a(n(i.target),!1)}).on("click",".yith-plugin-fw-media__tab",function(e){var t=i(e.target).closest(".yith-plugin-fw-media__tab"),a=n(t),l=a.find(".yith-plugin-fw-media__tab"),o=a.find(".yith-plugin-fw-media__content > *"),s=t.data("tab-selector"),r=a.find(s);l.removeClass("yith-plugin-fw-media__tab--active"),t.addClass("yith-plugin-fw-media__tab--active"),o.hide(),r.show()}).on("dragenter",".yith-plugin-fw-media__preview__dropzone",function(e){e.preventDefault(),e.dataTransfer||(e.dataTransfer=e.originalEvent.dataTransfer),e.dataTransfer.dropEffect="copy",i(this).closest(".yith-plugin-fw-media__preview").addClass("yith-plugin-fw--is-dragging")}).on("dragover",".yith-plugin-fw-media__preview__dropzone",function(i){i.preventDefault()}).on("dragleave",".yith-plugin-fw-media__preview__dropzone",function(){i(this).closest(".yith-plugin-fw-media__preview").removeClass("yith-plugin-fw--is-dragging")}).on("drop",".yith-plugin-fw-media__preview__dropzone",function(e){e.preventDefault();var l=i(this).closest(".yith-plugin-fw-media__preview");l.removeClass("yith-plugin-fw--is-dragging"),l.addClass("yith-plugin-fw--is-loading"),e.dataTransfer||(e.dataTransfer=e.originalEvent.dataTransfer);var r=e.dataTransfer.files,d=n(e.target),c=function(){l.removeClass("yith-plugin-fw--is-loading")};d.find(".yith-plugin-fw__notice").remove(),r.length>1&&(r=r[0]),r.length?"mediaUtils"in wp&&"uploadMedia"in wp.mediaUtils?wp.mediaUtils.uploadMedia({filesList:r,onFileChange:function(i){i&&i.length&&i[0]&&"id"in i[0]&&(a(d,i[0]),c(),t.destroy())},onError:function(i){console.error(i),c(),o(d,i.message)}}):(o(d,yith_framework_fw_fields.i18n.cannotDropError),c()):(o(d,yith_framework_fw_fields.i18n.noFileError),c()),s()}),document.addEventListener("dragenter",function(){e||(e=!0,document.addEventListener("dragend",s),document.addEventListener("mousemove",s),document.body.classList.add("yith-plugin-fw--dropzone-active"))})}(),function(){function e(e){return i(e).closest(".yith-plugin-fw-file")}i(document).on("dragover",".yith-plugin-fw-file",function(){e(this).addClass("yith-plugin-fw--is-dragging")}).on("dragleave",".yith-plugin-fw-file",function(){e(this).addClass("yith-plugin-fw--is-dragging")}).on("change",".yith-plugin-fw-file__field",function(){var i=e(this),t=i.find(".yith-plugin-fw-file__preview__name"),n=!!this.files.length&&this.files[0];i.removeClass("yith-plugin-fw--is-dragging"),n?(t.html(n.name),i.addClass("yith-plugin-fw--filled")):i.removeClass("yith-plugin-fw--filled")})}(),i([".yith-plugin-ui--wp-list-auto-h-scroll .wp-list-table:not(.yith-plugin-ui-wp-list-auto-h-scroll--initialized)",".yith-plugin-ui__wp-list-auto-h-scroll:not(.yith-plugin-ui-wp-list-auto-h-scroll--initialized)"].join(",")).each(function(){var e=i(this);e.wrap('<div class="yith-plugin-ui__wp-list-auto-h-scroll__wrapper" />');var t=e.parent(".yith-plugin-ui__wp-list-auto-h-scroll__wrapper"),n=e.find("thead").first(),a=function(){e.addClass("yith-plugin-ui__wp-list-auto-h-scroll--initializing"),e.css({position:"absolute",tableLayout:"auto",width:"max-content",minWidth:""});var i=e.outerWidth();e.css({position:"",tableLayout:"",width:"",minWidth:i+"px"}),i>t.innerWidth()?t.addClass("yith-plugin-ui--has-scrolling"):t.removeClass("yith-plugin-ui--has-scrolling"),e.removeClass("yith-plugin-ui__wp-list-auto-h-scroll--initializing"),e.addClass("yith-plugin-ui__wp-list-auto-h-scroll--initialized")};e.is(".yith-plugin-fw__classic-table")?t.addClass("yith-plugin-ui__wp-list-auto-h-scroll__wrapper--classic"):e.is(".yith-plugin-fw__boxed-table")&&t.addClass("yith-plugin-ui__wp-list-auto-h-scroll__wrapper--boxed"),t.on("scroll",function(){t.scrollLeft()>0?t.addClass("yith-plugin-ui--is-scrolling"):t.removeClass("yith-plugin-ui--is-scrolling")}),"undefined"!=typeof MutationObserver&&new MutationObserver(a).observe(n.get(0),{attributes:!0,childList:!0,subtree:!0}),i(window).on("resize",a),a()})}(jQuery);